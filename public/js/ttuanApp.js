angular.module('mainApp', [    'ngMaterial',    'ngRoute',    'ngMessages',    'ngAria']).run(['$rootScope', function ($rootScope) {    $rootScope.$on('$routeChangeSuccess', function (event, current, previous) {        $rootScope.title = current.$$route.title;    });}]).factory('Page',['$http', function ($h) {    var title = 'Taiwei Tuan';    return {        title: function () { return title; },        setTitle: function (newTitle) { title = newTitle; },        sendEmail: function(emailContent){            console.log(JSON.stringify(emailContent));            // POST data            return $h.post("/sendEmail", JSON.stringify(emailContent));        }    };}]).config(['$mdThemingProvider', '$routeProvider', function ($mdThemingProvider, $routeProvider) {    // material theme config    $mdThemingProvider.theme('default')        .primaryPalette('blue')        .accentPalette('blue-grey')        // .backgroundPalette('white',{        //     'default':'200'        // });        ;    // ng-route    $routeProvider.when('/', {        title: "Taiwei Tuan",        templateUrl: 'pages/home.html',        reloadOnSearch: false,    });    $routeProvider.when('/resume', {        title: "Resume",        templateUrl: "pages/resume.html",        reloadOnSearch: false,    });    $routeProvider.when('/profolios', {        title: 'Profolio',        templateUrl: "pages/profolios.html",        reloadOnSearch: false,    });    $routeProvider.when('/contact', {        title: 'Contact Me',        templateUrl: "pages/contact.html",        reloadOnSearch: false,    });}]).controller('mainController', ['$scope', '$rootScope', '$timeout', function ($s, $r, $t) {    console.log('main Ctrl loaded.')    $s.active = false;    $s.menuList = [{        link: '#/',        title: 'Home',        name: 'Home'    }, {        link: '#/resume',        title: 'Resume',        name: 'Resume',    }, {    //    link: '#/skills',    //    title: 'Skills',    //    name: 'Skills'    //}, {        link: '#/profolios',        title: 'Profolios',        name: 'Profolios'    }, {        link: '#/contact',        title: 'Contact Me',        name: 'Contact Me'    }];    console.log($r.title);        this.menuBtn = function () {        $s.active = !$s.active;    };    this.closeMenu = function () {        $s.active = false;    }}]).controller('homeController', ['$scope', 'Page', function ($scope, Page) {    console.log('at home.html');    $scope.reSize = reSize();        window.onresize = function (event) {    	$scope.reSize = reSize();    }    $scope.helloworld = 'hello World!';    $scope.iconList = [{        link: 'linkedin.com',        name: 'LinkedIn',        icon: 'fa-linkedin-square'    }, {        link: 'github.com',        name: 'GitHub',        icon: 'fa-github-square'    }, {        link: 'stackoverflow.com',        name: 'Stack Overflowwwwwwwww',        icon: 'fa-stack-overflow'    }, {        link: 'wordpress.com',        name: 'Word Press',        icon: 'fa-wordpress'    }];    // re-adjust height to user's view	function reSize() {        if(!document.getElementById('home')){            return;        }	    var windowHeight = window.innerHeight - 64 -100;	    // console.log(windowHeight);	    document.getElementById('home').style.height = windowHeight + 'px';	}}]).controller('resumeController', ['$scope', 'Page', function ($scope, Page) {    console.log('resume controller loaded');}]).controller('contactController',['$scope', 'Page', '$http', function($s, Page, $h){    console.log('contact controller loaded');    var emailContent = {        'title': 'Hello Taiwei!',        'message': ''    };    $s.emailContent = emailContent;    $s.submitted = false;    //sending email using POST method    $s.submitEmail = function(email){        console.log('submitting email');        $s.submitSuccess = false;        $s.submitted = true;        // sending email        Page.sendEmail(email).success(function(data){            $s.submitSuccess = true;            console.log('Send Email success');            console.log(data);        });    };}]);